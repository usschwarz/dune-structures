[solver]
steps = parameter, material, interpolation, constraints, compression, visualization

[grid]
N = 8 8 8

[newton]
VerbosityLevel = 3
Reduction = 1e-12
MaxIterations = 100

[parameter]
value = 0.5
datatype = double
name = maxcompression

[material]
materials = cube

[material.cube]
group = 0
youngs_modulus = 10000
poisson_ratio = 0.4
model = neohookean

[constraints]
functions = (z < 1e-08) || (z > 1.0 - 1e-8)

[interpolation]
functions = 0.0

[compression]
type = continuousvariation
parameter = compression
iterations = 10
start = 0.0
end = 1.0
steps = transformation, elasticity, onetoone

[transformation]
functions = ux, uy, - compression * (1.0 - maxcompression) * z

[visualization]
name = iterative_compress
steps = vis_solution, vis_vonmises
