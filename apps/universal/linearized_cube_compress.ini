[solver]
steps = parameter, material, elasticity_operator, interpolation, constraints, linearization, visualization

[grid]
type = structured
N = 8 8 8

[newton]
VerbosityLevel = 3
Reduction = 1e-12
MaxIterations = 100

[parameter]
value = 0.7
datatype = double
name = maxcompression

[material]
materials = cube

[material.cube]
group = 0
youngs_modulus = 10000
poisson_ratio = 0.4
model = stvenantkirchhoff

[constraints]
functions =  (z < 1e-08) || (z > 1.0 - 1e-8)

[interpolation]
functions = 0.0, 0.0,  -(1.0 - maxcompression) * z

[linearization]
type = discretematerialvariation
name = model
key = cube.model
values = linear, stvenantkirchhoff
steps = newton, onetoone

[newton]
operator = elasticity_operator

[visualization]
name = linearized_compress
steps = vis_solution, vis_vonmises
