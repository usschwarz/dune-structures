# Run with cell2d_p2 via automatic mesh-generation
solver:

    vectors:
        - Displacement_0
        - Body Force_0
        - Traction Force_0
        
    grid:
        _blockname: grid_0
        # Generation of unstructured Grid via Gmsh-Python-Interface
        cytoplasm:
            meshwidth: 0.6
            group: 0
            shape: scheiwe
            size: [1.0, 1.0]
            point1: [0.0, 0.0] # in \mu m
            point2: [10.0, 0.0]
            point3: [15.0, 8.66]
            point4: [10.0, 17.321]
            point5: [0.0, 17.321]
            point6: [-5.0, 8.66]
        # Always needed for mesh-generation. If no fibers, then same values as cytoplasm
        fibres:
            -
                shape: cylinder
                meshwidth: 0.6
                start: [-5.05, 8.70]
                end: [10.0, 17.321]
                radius: 0.05 # in \mu m
                group: 1
              
    blocks:
        - 
            _type: material
            _blockname: material_0
            materials:
                - 
                    group: 0
                    model: linear
                    poisson_ratio: 0.1666
                    youngs_modulus: 175
                    prestress:
                        type: isotropic
                        scale: 40
                -
                    group: 1
                    model: linear
                    poisson_ratio: 0.1666
                    youngs_modulus: 10000
                    prestress:
                        type: isotropic
                        scale: 2000
                  
        # Displacement for Dirichlet-BC
        - 
            _type: interpolation
            _blockname: interpolation_0
            functions: 0, 0
            vector: 0
        # Bod√Ω Force
        - 
            _type: interpolation
            _blockname: interpolation_1
            functions: 0, 0
            vector: 1
        # Traction Force for Neumann-BC
        - 
            _type: interpolation
            _blockname: interpolation_2
            functions: "((x < -2) ? -500 * exp(-0.5 * ((y - 8.66)/0.5)^2) / (0.5 * sqrt(2*3.141)): 0), 0" # pull in x direction
            vector: 2
        # Dirichlet-BC: if true, then interpolation_0, else Neumann-BC (i.e. either force free or prescribed by interpolation_1)
        - 
            _type: constraints
            _blockname: constraints_0
            functions: "(x > 14.5) ||
                      ((x<0.5) && (y>16.821)) || ((x<0.5) && (y<0.5)) ||
                      ((x>9.5) && (y>16.821)) || ((x>9.5) && (y<0.5))"
            vector: 0
          
        # Solver: bulk elasticity or fiber-reinforced  
        - 
            _type: linearsolver
            _blockname: linearsolver_0
            operator:
                elasticity: # for resolved approach
                    _blockname: elasticity_0                                    
                    vector: 0
            vector: 0
        
        # Visualization
        - 
            _type: visualization
            _blockname: visualization_0
            blocks:
            # Displacement
            - 
                _type: vis_vector
                _blockname: vis_vector_0
                vector: 0
            # von-Mises stress
            - 
                _type: vis_vonmises
                _blockname: vis_vonmises_0
                continuous: true
                report_inf: true
                #report_norm: [1, 2] # for what?
                vector: 0

            filename: output
            instationary: false
            intervals: 1
            path: vtk


            
        